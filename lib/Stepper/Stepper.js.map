{"version":3,"sources":["../../src/Stepper/Stepper.js"],"names":["Stepper","props","state","selected","Math","min","steps","length","selectedItem","stepsPerPage","containerRightPos","containerBottomPos","isArrowsNeeded","stepperContainerRef","arrowRef","updateStepsPerPageAmount","window","addEventListener","vertical","currArrowsSize","clientWidth","floor","setState","index","id","onStepClick","direction","newContainerPosValue","maxContainerPos","max","hideLabels","icon","palette","iconSize","map","step","isSelected","isBeforeSelected","iconColor","progress","finished","unfinished","disabled","selectStep","completedCounter","styles","elm","onArrowClick","arrows","width","height","right","bottom","renderSteps","React","Component","propTypes","PropTypes","arrayOf","object","string","bool","number","func","defaultProps","circle","link","label"],"mappings":"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","sourcesContent":["import styles from \"./Stepper.scss\";\r\nimport Step from './Step/Step';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport classnames from \"classnames\";\r\nimport { createCssVariables } from \"./utils\";\r\nimport Icon from \"../Icon/Icon\";\r\n\r\nclass Stepper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selected: Math.min(props.steps.length - 1, props.selectedItem - 1),\r\n            stepsPerPage: 0,\r\n            containerRightPos: 0,\r\n            containerBottomPos: 0,\r\n            isArrowsNeeded: false\r\n        };\r\n        this.stepperContainerRef = false;\r\n        this.arrowRef = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateStepsPerPageAmount();\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.updateStepsPerPageAmount();\r\n        })\r\n    }\r\n\r\n    updateStepsPerPageAmount() {\r\n        const { vertical } = this.props;\r\n\r\n        const currArrowsSize = this.state.isArrowsNeeded ? this.arrowRef?.clientWidth * 2 : 0;\r\n        const stepsPerPage = Math.floor((this.stepperContainerRef[vertical ? 'clientHeight' : 'clientWidth'] - currArrowsSize) / (vertical ? 120 : 200)) || 1;\r\n\r\n        this.setState({\r\n            stepsPerPage,\r\n            isArrowsNeeded: stepsPerPage < this.props.steps.length\r\n        });\r\n\r\n    }\r\n\r\n    selectStep(index, id) {\r\n        if (this.props.onStepClick) {\r\n            this.props.onStepClick({ index, id });\r\n        }\r\n\r\n        return () => {\r\n            this.setState({\r\n                selected: index\r\n            })\r\n        }\r\n    }\r\n\r\n    onArrowClick(direction) {\r\n        const { stepsPerPage } = this.state;\r\n        const { steps, vertical } = this.props;\r\n\r\n        return () => {\r\n            const newContainerPosValue = this.state[vertical ? 'containerBottomPos' : 'containerRightPos']\r\n                + ((vertical ? 120 : 200) * direction);\r\n            const maxContainerPos = (vertical ? 120 : 200) * (steps.length - stepsPerPage);\r\n\r\n            this.setState({\r\n                [vertical ? 'containerBottomPos' : 'containerRightPos']:\r\n                    Math.min(Math.max(newContainerPosValue, 0), maxContainerPos)\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    renderSteps() {\r\n        const { steps, hideLabels, palette: { icon }, iconSize } = this.props;\r\n        const { selected } = this.state;\r\n\r\n        return (\r\n            steps.map((step, index) => {\r\n                const isSelected = selected === index;\r\n                const isBeforeSelected = selected > index;\r\n                const iconColor = (isSelected || isBeforeSelected)\r\n                && (step.progress !== 'none' && step.progress !== 'partial')\r\n                || step.progress === 'done'\r\n                    ? (icon.finished || 'white') : (icon.unfinished || 'black');\r\n\r\n                return (\r\n                    <div\r\n                        className={classnames({\r\n                            'steps-item': true,\r\n                            '--selected': isSelected,\r\n                            '--before-selected': isBeforeSelected,\r\n                            '--disabled': step.disabled\r\n                        })}\r\n                        key={'step' + index}\r\n                        onClick={!step.disabled && this.selectStep(index, step.id)}\r\n                    >\r\n                        <Step\r\n                            iconColor={iconColor}\r\n                            iconSize={iconSize}\r\n                            step={step}\r\n                            hideLabel={hideLabels}\r\n                            isSelected={isSelected}\r\n                            isBeforeSelected={isBeforeSelected}\r\n                        />\r\n                    </div>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { palette, vertical, completedCounter, steps, iconSize } = this.props;\r\n        const { selected, containerRightPos, containerBottomPos, stepsPerPage, isArrowsNeeded } = this.state;\r\n\r\n        return (\r\n            <div\r\n                className={classnames({\r\n                    'stepper': true,\r\n                    '--vertical': vertical\r\n                })}\r\n            >\r\n                <style type=\"text/css\">{createCssVariables(palette, iconSize) + styles}</style>\r\n                <div\r\n                    className=\"stepper-container\"\r\n                    ref={elm => this.stepperContainerRef = elm}\r\n                >\r\n                    {isArrowsNeeded &&\r\n                    <div\r\n                        className=\"arrow arrow-left\"\r\n                        onClick={this.onArrowClick(-1)}\r\n                        ref={elm => this.arrowRef = elm}\r\n                    >\r\n                        <div className=\"arrow-icon\">\r\n                            <Icon\r\n                                icon={vertical ? \"chevron-up\" : \"chevron-left\"}\r\n                                color={palette.arrows}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    }\r\n\r\n                    <div\r\n                        className=\"steps-shown\"\r\n                        style={{\r\n                            width: isArrowsNeeded && !vertical ? stepsPerPage * 200 : '100%',\r\n                            height: stepsPerPage * 120\r\n                        }}\r\n                    >\r\n                        <div\r\n                            className=\"steps-all\"\r\n                            style={{\r\n                                width: isArrowsNeeded && !vertical ? steps.length * 200 : '100%',\r\n                                right: vertical ? 0 : containerRightPos,\r\n                                bottom: vertical ? containerBottomPos : 0\r\n                            }}\r\n                        >\r\n                            {this.renderSteps()}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {isArrowsNeeded &&\r\n                    <div\r\n                        className=\"arrow arrow-right\"\r\n                        onClick={this.onArrowClick(1)}\r\n                    >\r\n                        <div className=\"arrow-icon\">\r\n                            <Icon\r\n                                icon={vertical ? \"chevron-down\" : \"chevron-right\"}\r\n                                color={palette.arrows}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>\r\n                <div className=\"stepper-counter\">\r\n                    {completedCounter &&\r\n                    `${selected + 1}/${steps.length} Completed`\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nStepper.propTypes = {\r\n    steps: PropTypes.arrayOf(PropTypes.object),\r\n    palette: PropTypes.object,\r\n    iconSize: PropTypes.string,\r\n    hideLabels: PropTypes.bool,\r\n    vertical: PropTypes.bool,\r\n    completedCounter: PropTypes.bool,\r\n    selectedItem: PropTypes.number,\r\n    onStepClick: PropTypes.func\r\n}\r\n\r\nStepper.defaultProps = {\r\n    steps: [],\r\n    palette: {\r\n        icon: {\r\n            finished: '',\r\n            unfinished: ''\r\n        },\r\n        circle: '',\r\n        link: '',\r\n        label: '',\r\n        arrows: 'black'\r\n    },\r\n    iconSize: 'sm',\r\n    hideLabels: false,\r\n    vertical: false,\r\n    completedCounter: false,\r\n    selectedItem: 1\r\n}\r\n\r\nexport default Stepper;"],"file":"Stepper.js"}