{"version":3,"sources":["../../src/TextArea/TextArea.js"],"names":["TextArea","props","textAreaRef","React","createRef","onChange","bind","onFocus","onBlur","state","value","parentHeight","textareaHeight","focused","event","setState","target","onKeyDown","prevProps","prevState","snapshot","autofocus","current","focus","_hasLabel","Boolean","label","styles","minHeight","className","resize","elm","name","Component","defaultProps","autoresize","propTypes","bool","string","func"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport propTypes from \"prop-types\";\nimport styles from \"./styles.css\";\nimport classnames from \"classnames\";\nimport autosize from \"autosize/dist/autosize\";\n\nclass TextArea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.textAreaRef = React.createRef();\n        this.onChange = this.onChange.bind(this);\n        this.onFocus = this.onFocus.bind(this);\n        this.onBlur = this.onBlur.bind(this);\n        this.state = {\n            value: \"\",\n            parentHeight: \"auto\",\n            textareaHeight: \"auto\",\n            focused: false\n        }\n    }\n\n    onChange (event) {\n        this.setState({value: event.target.value})\n        this.props.onKeyDown(event)\n    }\n    onFocus(event) {\n        this.setState({focused: true})\n    }\n\n    onBlur () {\n        this.setState({focused: false})\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.autofocus && this.textAreaRef.current) {\n            autosize(this.textAreaRef.current);\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.autofocus && this.textAreaRef.current) {\n            this.textAreaRef.current.focus()\n            autosize(this.textAreaRef.current);\n        }\n    }\n\n    render() {\n        const _hasLabel = Boolean(this.props.label);\n        return (\n            <>\n                <style type=\"text/css\">{styles}</style>\n                <div\n                    className=\"form-group\"\n                    style={{\n                        minHeight: this.state.parentHeight\n                    }}\n                >\n                    {_hasLabel && <label htmlFor=\"name\" className={classnames({\n                        \"--moved\": this.state.focused || (this.props.value || this.state.value),\n                        \"--focused\": this.state.focused\n                    })}>{this.props.label}</label>}\n                    <textarea\n                        className={classnames({\n                            \"form-control\": true,\n                            [this.props.className]: true,\n                            \"resize\": this.props.resize\n                        })}\n                        ref={(elm) => this.textAreaRef.current = elm}\n                        name={this.props.name}\n                        value={this.props.value || this.state.value}\n                        onInput={this.onChange}\n                        onKeyDown={this.onChange}\n                        onFocus={this.onFocus}\n                        onBlur={this.onBlur}\n                    />\n                </div>\n            </>\n        )\n    }\n}\n\nTextArea.defaultProps = {\n    autoresize: false,\n    autofocus: true,\n    className: \"\",\n    onChange: () => void 0,\n    onKeyDown: () => void 0,\n    name: \"\",\n    value: \"\",\n    resize: true,\n    label: \"\"\n}\n\nTextArea.propTypes = {\n    autoresize: propTypes.bool,\n    value: propTypes.string,\n    label: propTypes.string,\n    name: propTypes.string,\n    onChange: propTypes.func,\n    onKeyDown: propTypes.func,\n    className: propTypes.string,\n    autofocus: propTypes.bool,\n    resize: propTypes.bool\n}\n\nexport default TextArea\n"],"file":"TextArea.js"}