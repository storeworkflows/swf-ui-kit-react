{"version":3,"sources":["../../src/TextArea/TextArea.js"],"names":["TextArea","props","textAreaRef","React","createRef","onChange","bind","onFocus","onBlur","state","value","parentHeight","textareaHeight","focused","event","setState","target","onKeyDown","prevProps","prevState","snapshot","autofocus","current","focus","newProps","_hasLabel","Boolean","label","styles","minHeight","className","resize","elm","name","placeholder","Component","defaultProps","autoresize","propTypes","bool","string","func"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport propTypes from \"prop-types\";\nimport styles from \"./styles.css\";\nimport classnames from \"classnames\";\nimport autosize from \"autosize/dist/autosize\";\n\nclass TextArea extends React.Component {\n    constructor(props) {\n        super(props);\n        this.textAreaRef = React.createRef();\n        this.onChange = this.onChange.bind(this);\n        this.onFocus = this.onFocus.bind(this);\n        this.onBlur = this.onBlur.bind(this);\n        this.state = {\n            value: \"\",\n            parentHeight: \"auto\",\n            textareaHeight: \"auto\",\n            focused: false\n        }\n    }\n\n    onChange (event) {\n        this.setState({value: event.target.value})\n        this.props.onKeyDown(event)\n    }\n    onFocus(event) {\n        this.setState({focused: true})\n    }\n\n    onBlur () {\n        this.setState({focused: false})\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.autofocus && this.textAreaRef.current) {\n            autosize(this.textAreaRef.current);\n        }\n    }\n\n    componentDidMount() {\n        if (this.props.autofocus && this.textAreaRef.current) {\n            this.textAreaRef.current.focus()\n            autosize(this.textAreaRef.current);\n        }\n    }\n\n    getDerivedStateFromProps (newProps) {\n        return {\n            value: newProps.value\n        }\n    }\n\n    render() {\n        const _hasLabel = Boolean(this.props.label);\n\n        return (\n            <>\n                <style type=\"text/css\">{styles}</style>\n                <div\n                    className=\"form-group\"\n                    style={{\n                        minHeight: this.state.parentHeight\n                    }}\n                >\n                    {_hasLabel && <label htmlFor=\"name\" className={classnames({\n                        \"--moved\": this.state.focused || (this.props.value || this.state.value),\n                        \"--focused\": this.state.focused\n                    })}>{this.props.label}</label>}\n                    <textarea\n                        className={classnames({\n                            \"form-control\": true,\n                            [this.props.className]: true,\n                            \"resize\": this.props.resize\n                        })}\n                        ref={(elm) => this.textAreaRef.current = elm}\n                        name={this.props.name}\n                        value={this.state.value}\n                        onChange={this.onChange}\n                        onKeyDown={this.onChange}\n                        onFocus={this.onFocus}\n                        onBlur={this.onBlur}\n                        placeholder={!_hasLabel ? this.props.placeholder : \"\"}\n                    />\n                </div>\n            </>\n        )\n    }\n}\n\nTextArea.defaultProps = {\n    autoresize: false,\n    autofocus: true,\n    className: \"\",\n    onChange: () => void 0,\n    onKeyDown: () => void 0,\n    name: \"\",\n    value: \"\",\n    resize: true,\n    label: \"\",\n    placeholder: \"\"\n}\n\nTextArea.propTypes = {\n    autoresize: propTypes.bool,\n    value: propTypes.string,\n    label: propTypes.string,\n    name: propTypes.string,\n    onChange: propTypes.func,\n    onKeyDown: propTypes.func,\n    className: propTypes.string,\n    autofocus: propTypes.bool,\n    resize: propTypes.bool,\n    placeholder: propTypes.string\n}\n\nexport default TextArea\n"],"file":"TextArea.js"}