{"version":3,"sources":["../../src/TextArea/TextArea.js"],"names":["TextArea","props","textAreaRef","React","createRef","onChange","bind","onFocus","onBlur","state","value","parentHeight","textareaHeight","focused","event","setState","target","onKeyDown","prevProps","prevState","snapshot","autofocus","current","focus","_hasLabel","Boolean","label","styles","elm","innerRef","minHeight","className","resize","name","placeholder","newProps","Component","defaultProps","autoresize","propTypes","bool","string","func","object"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport styles from \"./styles.css\";\r\nimport classnames from \"classnames\";\r\nimport autosize from \"autosize/dist/autosize\";\r\n\r\nclass TextArea extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.textAreaRef = React.createRef();\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onBlur = this.onBlur.bind(this);\r\n        this.state = {\r\n            value: \"\",\r\n            parentHeight: \"auto\",\r\n            textareaHeight: \"auto\",\r\n            focused: false\r\n        }\r\n    }\r\n\r\n    onChange (event) {\r\n        this.setState({value: event.target.value})\r\n        this.props.onKeyDown(event)\r\n    }\r\n    onFocus(event) {\r\n        this.setState({focused: true})\r\n    }\r\n\r\n    onBlur () {\r\n        this.setState({focused: false})\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.autofocus && this.textAreaRef.current) {\r\n            autosize(this.textAreaRef.current);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.autofocus && this.textAreaRef.current) {\r\n            this.textAreaRef.current.focus()\r\n            autosize(this.textAreaRef.current);\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps (newProps) {\r\n        return {\r\n            value: newProps.value\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const _hasLabel = Boolean(this.props.label);\r\n\r\n        return (\r\n            <>\r\n                <style type=\"text/css\">{styles}</style>\r\n                <div\r\n                    ref={elm => this.props.innerRef.current = elm}\r\n                    className=\"form-group\"\r\n                    style={{\r\n                        minHeight: this.state.parentHeight\r\n                    }}\r\n                >\r\n                    {_hasLabel && <label htmlFor=\"name\" className={classnames({\r\n                        \"--moved\": this.state.focused || (this.props.value || this.state.value),\r\n                        \"--focused\": this.state.focused\r\n                    })}>{this.props.label}</label>}\r\n                    <textarea\r\n                        className={classnames({\r\n                            \"form-control\": true,\r\n                            [this.props.className]: true,\r\n                            \"resize\": this.props.resize\r\n                        })}\r\n                        ref={(elm) => this.textAreaRef.current = elm}\r\n                        name={this.props.name}\r\n                        value={this.state.value}\r\n                        onChange={this.onChange}\r\n                        onKeyDown={this.onChange}\r\n                        onFocus={this.onFocus}\r\n                        onBlur={this.onBlur}\r\n                        placeholder={!_hasLabel ? this.props.placeholder : \"\"}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nTextArea.defaultProps = {\r\n    autoresize: false,\r\n    autofocus: true,\r\n    className: \"\",\r\n    onChange: () => void 0,\r\n    onKeyDown: () => void 0,\r\n    name: \"\",\r\n    value: \"\",\r\n    resize: true,\r\n    label: \"\",\r\n    placeholder: \"\",\r\n    innerRef: React.createRef()\r\n}\r\n\r\nTextArea.propTypes = {\r\n    autoresize: propTypes.bool,\r\n    value: propTypes.string,\r\n    label: propTypes.string,\r\n    name: propTypes.string,\r\n    onChange: propTypes.func,\r\n    onKeyDown: propTypes.func,\r\n    className: propTypes.string,\r\n    autofocus: propTypes.bool,\r\n    resize: propTypes.bool,\r\n    placeholder: propTypes.string,\r\n    innerRef: propTypes.object\r\n}\r\n\r\nexport default TextArea\r\n"],"file":"TextArea.js"}