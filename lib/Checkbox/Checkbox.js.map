{"version":3,"sources":["../../src/Checkbox/Checkbox.js"],"names":["Checkbox","props","onChangeAction","bind","onInvalidAction","setIndeterminate","state","checkedValue","checked","invalidValue","invalid","checkboxRef","React","createRef","manageChecked","onChange","readonly","disabled","currentValue","newValue","canChange","value","setState","manageInvalid","onInvalid","input","current","querySelector","indeterminate","label","name","required","isIndeterminate","styles","e","Component","defaultProps","propTypes","oneOfType","bool","oneOf","string","func"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport propTypes from \"prop-types\";\nimport classnames from \"classnames\";\n\nimport styles from \"./styles.scss\"\n\nclass Checkbox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onChangeAction = this.onChangeAction.bind(this);\n        this.onInvalidAction = this.onInvalidAction.bind(this);\n        this.setIndeterminate = this.setIndeterminate.bind(this);\n\n        this.state = {\n            checkedValue: this.props.checked,\n            invalidValue:  this.props.invalid,\n            checkboxRef: React.createRef()\n        }\n    }\n\n    onChangeAction(){\n        const {manageChecked, onChange, readonly, disabled} = this.props;\n        const currentValue = this.state.checkedValue;\n        let newValue = (currentValue===\"indeterminate\") ? true : !currentValue;\n        let canChange = !readonly && !disabled;\n\n        if(canChange && manageChecked)\n             onChange({value: currentValue});\n        else if(canChange)\n            this.setState({ checkedValue: newValue });\n        else if(currentValue===\"indeterminate\")\n            this.setIndeterminate()\n    }\n\n    onInvalidAction(){\n        const {manageInvalid, onInvalid} = this.props;\n        const currentValue = this.state.invalidValue;\n\n        if(manageInvalid)\n            onInvalid({value: currentValue});\n        else\n            this.setState({ invalidValue: !currentValue })\n    }\n\n    setIndeterminate(){\n        let input = this.state.checkboxRef.current.querySelector('input');\n        if(this.props.checked === \"indeterminate\")\n            input.indeterminate = true;\n    }\n\n    componentDidUpdate(){\n        const {checked, invalid, manageChecked, manageInvalid} = this.props;\n        const {invalidValue, checkedValue} = this.state;\n\n        if(manageChecked && checkedValue !== checked)\n        {\n            this.setState({checkedValue: checked});\n            this.setIndeterminate();\n        }\n\n        if(manageInvalid && invalidValue!== invalid)\n            this.setState({invalidValue: invalid});\n    }\n\n    componentDidMount() {\n        this.setIndeterminate();\n    }\n\n    render() {\n\n        const {\n            disabled,\n            label,\n            name,\n            readonly,\n            required\n        } = this.props;\n\n        let isIndeterminate = this.state.checkedValue === 'indeterminate'\n        let checkedValue =  isIndeterminate ? false: this.state.checkedValue;\n\n        return (\n            <>\n                <style type=\"text/css\">{styles}</style>\n                <div className={classnames({\n                    \"checkbox-container\": true,\n                    \"disabled\": disabled,\n                    \"readonly\": readonly,\n                    \"invalid\": this.state.invalidValue\n                    })}\n                     ref = {this.state.checkboxRef}\n                >\n                    <input\n                        className={\"checkbox-input\"}\n                        type=\"checkbox\"\n                        checked={checkedValue}\n                        disabled={disabled}\n                        required={required}\n                        name={name}\n                        value={(this.state.checkedValue) ? \"true\" : \"false\"}\n                        onInvalid={e => this.onInvalidAction(e)}\n                        onChange={e => this.onChangeAction(e)}\n                    />\n                    <div className={\"checkbox-information\"}>\n                        {label && <label className={\"checkbox-label\"}>{label}</label>}\n                        { required && <span className={\"checkbox-required\"}>*</span>}\n                    </div>\n                </div>\n            </>\n        );\n    }\n};\n\nCheckbox.defaultProps = {\n    checked: false,\n    disabled: false,\n    invalid: false,\n    manageChecked: false,\n    manageInvalid: false,\n    readonly: false,\n    required: false\n};\n\nCheckbox.propTypes = {\n    checked: propTypes.oneOfType([\n        propTypes.bool,\n        propTypes.oneOf([\"indeterminate\"])\n    ]),\n    disabled: propTypes.bool,\n    invalid: propTypes.bool,\n    label: propTypes.string,\n    manageChecked: propTypes.bool,\n    manageInvalid: propTypes.bool,\n    name: propTypes.string,\n    readonly: propTypes.bool,\n    required: propTypes.bool,\n    onInvalid: propTypes.func,\n    onChange: propTypes.func\n}\n\nexport default Checkbox"],"file":"Checkbox.js"}