{"version":3,"sources":["../../src/AvatarGroup/AvatarGroup.js"],"names":["AvatarGroup","props","addNewMember","bind","openAvatar","state","openedAvatar","index","setState","event","clickable","onAdd","size","max","canAdd","manageOpened","members","canRemove","onRemove","hasAdditionalMembers","length","maxViewers","additionalMembers","viewers","slice","reverse","styles","elm","innerRef","current","String","fromCharCode","map","viewer","id","name","replace","React","Component","defaultProps","noop","onClick","createRef","propTypes","PropTypes","bool","number","oneOf","array","func","object"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport {Avatar} from \"../index\";\nimport styles from \"./styles.scss\";\nimport {noop} from \"../utils\";\n\nclass AvatarGroup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.addNewMember = this.addNewMember.bind(this);\n        this.openAvatar = this.openAvatar.bind(this);\n        this.state = {\n            openedAvatar: -1\n        }\n    }\n\n    openAvatar(index) {\n        this.setState({openedAvatar: index})\n    }\n\n    addNewMember(event) {\n        if (this.props.clickable) {\n            this.props.onAdd();\n        }\n    }\n\n    render() {\n        const {size, max, canAdd, clickable, manageOpened, members, canRemove, onRemove} = this.props;\n        const hasAdditionalMembers = members.length > max + 1;\n        const maxViewers = hasAdditionalMembers ? max : members.length;\n        const additionalMembers = members.length - max;\n\n        const viewers = members.slice(0, maxViewers).reverse();\n\n        return (\n            <>\n                <style type=\"text/css\">{styles}</style>\n                <div\n                    ref={elm => this.props.innerRef.current = elm}\n                    className={\n                    classnames({\n                        \"avatar-container\": true,\n                        [`--${size}`]: true\n                    })\n                }\n                >\n                    {canAdd && <div\n                        className={classnames({\n                            \"avatar-multiple\": true,\n                            \"add-new-member\": true\n                        })}\n                        onClick={this.addNewMember}\n                    >\n                        <p className=\"additional-avatar\">{String.fromCharCode(43)}</p>\n                    </div>}\n\n                    {hasAdditionalMembers && <div className={classnames({\n                        \"avatar-multiple\": true,\n                        \"additional-members\": true\n                    })}>\n                        <p className=\"additional-avatar\">{String.fromCharCode(43)}{additionalMembers}</p>\n                    </div>}\n\n                    {viewers.map((viewer, index) => (\n                        <div key={index + viewer.name.replace(\"\", \"_\")} onClick={this.openAvatar.bind(this, index)}>\n                            <Avatar\n                                id={viewer.id || index}\n                                size={size}\n                                canRemove={canRemove}\n                                onRemove={onRemove}\n                                member={viewer}\n                                manageOpened={manageOpened}\n                                open={this.state?.openedAvatar === index}\n                            />\n                        </div>\n                    ))\n                    }\n                </div>\n            </>\n        )\n    }\n}\n\nAvatarGroup.defaultProps = {\n    clickable: true,\n    max: 5,\n    size: \"xs\",\n    members: [],\n    canRemove: true,\n    canAdd: true,\n    onAdd: noop,\n    onRemove: noop,\n    onClick: noop,\n    manageOpened: false,\n    innerRef: React.createRef()\n}\n\nAvatarGroup.propTypes = {\n    clickable: PropTypes.bool,\n    max: PropTypes.number,\n    size: PropTypes.oneOf([\"xs\", \"md\", \"lg\"]),\n    manageOpened: PropTypes.bool,\n    members: PropTypes.array,\n    canRemove: PropTypes.bool,\n    onClick: PropTypes.func,\n    canAdd: PropTypes.bool,\n    onAdd: PropTypes.func,\n    onRemove: PropTypes.func,\n    innerRef: PropTypes.object\n}\n\nexport default AvatarGroup"],"file":"AvatarGroup.js"}